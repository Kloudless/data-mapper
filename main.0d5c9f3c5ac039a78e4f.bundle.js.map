{"version":3,"sources":["webpack:///./.storybook/loader/generated-entry.js","webpack:///\\.)(","webpack:///./src/stories/core/init-mui-components.js","webpack:///./src/stories/core/components/TextField.vue?1331","webpack:///src/stories/core/components/TextField.vue","webpack:///./src/stories/core/components/Editor.vue?d6d2","webpack:///src/stories/core/components/Editor.vue","webpack:///./src/stories/core/components/TextField.vue","webpack:///./src/stories/core/components/TextField.vue?689d","webpack:///./src/stories/core/components/Editor.vue","webpack:///./src/stories/core/components/Editor.vue?1a90","webpack:///./src/constants.js","webpack:///./src/stories/core/createStory.js","webpack:///./src/stories/loader/loader.stories.js"],"names":["module","_StorybookPreserveDecorators","configure","require","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","webpackContextKeys","Object","resolve","exports","Vue","use","Button","TextField","FloatingLabel","LineRipple","LayoutGrid","Card","props","value","type","String","name","title","textarea","Boolean","default","error","errorMsg","watch","newValue","this","$emit","components","_vm","_h","$createElement","_c","_self","style","attrs","model","callback","$$v","innerValue","expression","_v","_s","slot","_e","launchOptions","globalOptions","token","disabled","methods","preventDefault","on","onClick","baseUrl","onChange","mapperPath","staticClass","EVENTS","OPEN","CLOSE","DESTROYED","SUCCESS","ERROR","CANCEL","EVENTS_LIST","values","DEFAULT_GLOBAL_OPTIONS","DEFAULT_LAUNCH_OPTIONS","appId","mode","element","kloudlessObjectName","kloudlessObjectFriendlyName","kloudlessObjectFields","friendlyName","description","serviceObjectName","basic","createStory","DataMapper","Editor","data","rest","JSON","stringify","computed","jsonLaunchOptions","parse","ex","result","valid","beforeDestroy","destroyMapper","includes","mapper","destroy","bindEventHandlers","forEach","event","actionEventHandler","action","args","window","puppeteerEventHandler","onLaunch","setOptions","launch","template","Kloudless"],"mappings":"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","file":"main.0d5c9f3c5ac039a78e4f.bundle.js","sourcesContent":["\n              import { configure } from '@storybook/vue';\n              module._StorybookPreserveDecorators = true;\n\n              configure([require.context('../../src/stories/loader', true, /^\\.\\/(?:(?:|\\/|(?:(?:(?!(?:|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^\\/]*?\\.stories\\.(?:\\[tj\\]|[tj])s)$/)\n              ], module);\n            ","var map = {\n\t\"./loader.stories.js\": 855\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 776;","import Vue from 'vue';\nimport Button from 'material-components-vue/dist/button';\nimport TextField from 'material-components-vue/dist/text-field';\nimport FloatingLabel from 'material-components-vue/dist/floating-label';\nimport LineRipple from 'material-components-vue/dist/line-ripple';\nimport LayoutGrid from 'material-components-vue/dist/layout-grid';\nimport Card from 'material-components-vue/dist/card';\n\nimport 'material-components-vue/dist/button/button.min.css';\nimport 'material-components-vue/dist/text-field/text-field.min.css';\nimport 'material-components-vue/dist/floating-label/floating-label.min.css';\nimport 'material-components-vue/dist/line-ripple/line-ripple.min.css';\nimport 'material-components-vue/dist/layout-grid/layout-grid.min.css';\nimport 'material-components-vue/dist/card/card.min.css';\n\nVue.use(Button);\nVue.use(TextField);\nVue.use(FloatingLabel);\nVue.use(LineRipple);\nVue.use(LayoutGrid);\nVue.use(Card);\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextField.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextField.vue?vue&type=script&lang=js&\"","<script>\nexport default {\n  props: {\n    value: {\n      type: String,\n    },\n    name: {\n      type: String,\n    },\n    title: {\n      type: String,\n    },\n    textarea: {\n      type: Boolean,\n      default: false,\n    },\n    error: {\n      type: Boolean,\n      default: false,\n    },\n    type: {\n      type: String,\n      default: 'text',\n    },\n    errorMsg: {\n      type: String,\n      default: 'error',\n    },\n  },\n  data() {\n    return { innerValue: this.value };\n  },\n  watch: {\n    innerValue(newValue) {\n      const { name } = this;\n      this.$emit('onChange', name, newValue);\n    },\n  },\n};\n</script>\n\n<template>\n  <div>\n    <m-text-field\n      outlined\n      v-model=\"innerValue\"\n      :style=\"{'width': '100%', 'height': textarea ? '300px':'auto'}\"\n      :id=\"name\"\n      :dense=\"!textarea\"\n      :textarea=\"textarea\"\n      :useNativeValidation=\"false\"\n      :type=\"type\"\n      :valid=\"!error\">\n      <m-floating-label :for=\"name\">\n        {{ title }}\n      </m-floating-label>\n      <m-line-ripple slot=\"bottomLine\"/>\n    </m-text-field>\n    <span :style=\"{'color': '#b00020'}\" v-if=\"error\">\n      <small>{{ errorMsg }}</small>\n    </span>\n  </div>\n</template>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"","<script>\nimport TextField from '../components/TextField';\n\nexport default {\n  components: { TextField },\n  props: {\n    launchOptions: {\n      type: String,\n    },\n    globalOptions: {\n      type: Object,\n    },\n    token: {\n      type: String,\n    },\n    disabled: {\n      type: Boolean,\n      default: true,\n    },\n    error: {\n      type: Object,\n    },\n  },\n  methods: {\n    onClick(e) {\n      e.preventDefault();\n      this.$emit('onLaunch');\n    },\n    onChange(name, value) {\n      this.$emit('onChange', name, value);\n    },\n  },\n};\n/* eslint-disable max-len */\n</script>\n\n<template>\n  <m-card outlined>\n    <form @submit=\"onClick\">\n      <m-layout-grid>\n        <m-layout-grid-inner>\n          <m-layout-grid-cell :span=\"6\">\n            <h3>Global Options</h3>\n            <m-layout-grid>\n              <m-layout-grid-inner>\n                <m-layout-grid-cell :span=\"12\" :spanDesktop=\"6\">\n                  <text-field\n                    @onChange=\"onChange\"\n                    :value=\"globalOptions.baseUrl\"\n                    title=\"Kloudless API Server Base URL *\"\n                    name=\"baseUrl\"\n                    :error=\"error.globalOptions.baseUrl\"\n                    errorMsg=\"Required.\">\n                  </text-field>\n                </m-layout-grid-cell>\n                <m-layout-grid-cell :span=\"12\" :spanDesktop=\"6\">\n                  <text-field\n                    @onChange=\"onChange\"\n                    :value=\"globalOptions.mapperPath\"\n                    title=\"Mapper Path *\"\n                    name=\"mapperPath\"\n                    :error=\"error.globalOptions.mapperPath\"\n                    errorMsg=\"Required.\">\n                  </text-field>\n                </m-layout-grid-cell>\n              </m-layout-grid-inner>\n            </m-layout-grid>\n          </m-layout-grid-cell>\n          <m-layout-grid-cell :span=\"6\">\n            <h3>Launch Options</h3>\n            <m-layout-grid>\n              <m-layout-grid-inner>\n                <m-layout-grid-cell :span=\"12\" :spanDesktop=\"6\">\n                  <text-field\n                    @onChange=\"onChange\"\n                    :value=\"token\"\n                    type=\"password\"\n                    title=\"Kloudless Account Token *\"\n                    name=\"token\"\n                    :error=\"error.token\"\n                    errorMsg=\"Required.\">\n                  </text-field>\n                </m-layout-grid-cell>\n                <m-layout-grid-cell :span=\"12\" :spanDesktop=\"6\">\n                  <text-field\n                    @onChange=\"onChange\"\n                    :value=\"launchOptions\"\n                    :textarea=\"true\"\n                    title=\"Launch Options\"\n                    name=\"launchOptions\"\n                    :error=\"error.launchOptions\"\n                    errorMsg=\"Invalid JSON format or missing 'appId' or 'kloudlessObjectName'.\">\n                  </text-field>\n                </m-layout-grid-cell>\n              </m-layout-grid-inner>\n            </m-layout-grid>\n          </m-layout-grid-cell>\n          <m-layout-grid-cell :span=\"12\" :spanDesktop=\"6\">\n            <m-button class=\"j-launch-btn\"\n                outlined @click=\"onClick\" :disabled=\"disabled\">\n              Launch\n            </m-button>\n          </m-layout-grid-cell>\n        </m-layout-grid-inner>\n      </m-layout-grid>\n    </form>\n  </m-card>\n</template>\n","import { render, staticRenderFns } from \"./TextField.vue?vue&type=template&id=24181d67&\"\nimport script from \"./TextField.vue?vue&type=script&lang=js&\"\nexport * from \"./TextField.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('m-text-field',{style:({'width': '100%', 'height': _vm.textarea ? '300px':'auto'}),attrs:{\"outlined\":\"\",\"id\":_vm.name,\"dense\":!_vm.textarea,\"textarea\":_vm.textarea,\"useNativeValidation\":false,\"type\":_vm.type,\"valid\":!_vm.error},model:{value:(_vm.innerValue),callback:function ($$v) {_vm.innerValue=$$v},expression:\"innerValue\"}},[_c('m-floating-label',{attrs:{\"for\":_vm.name}},[_vm._v(\"\\n      \"+_vm._s(_vm.title)+\"\\n    \")]),_vm._v(\" \"),_c('m-line-ripple',{attrs:{\"slot\":\"bottomLine\"},slot:\"bottomLine\"})],1),_vm._v(\" \"),(_vm.error)?_c('span',{style:({'color': '#b00020'})},[_c('small',[_vm._v(_vm._s(_vm.errorMsg))])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Editor.vue?vue&type=template&id=45c90269&\"\nimport script from \"./Editor.vue?vue&type=script&lang=js&\"\nexport * from \"./Editor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('m-card',{attrs:{\"outlined\":\"\"}},[_c('form',{on:{\"submit\":_vm.onClick}},[_c('m-layout-grid',[_c('m-layout-grid-inner',[_c('m-layout-grid-cell',{attrs:{\"span\":6}},[_c('h3',[_vm._v(\"Global Options\")]),_vm._v(\" \"),_c('m-layout-grid',[_c('m-layout-grid-inner',[_c('m-layout-grid-cell',{attrs:{\"span\":12,\"spanDesktop\":6}},[_c('text-field',{attrs:{\"value\":_vm.globalOptions.baseUrl,\"title\":\"Kloudless API Server Base URL *\",\"name\":\"baseUrl\",\"error\":_vm.error.globalOptions.baseUrl,\"errorMsg\":\"Required.\"},on:{\"onChange\":_vm.onChange}})],1),_vm._v(\" \"),_c('m-layout-grid-cell',{attrs:{\"span\":12,\"spanDesktop\":6}},[_c('text-field',{attrs:{\"value\":_vm.globalOptions.mapperPath,\"title\":\"Mapper Path *\",\"name\":\"mapperPath\",\"error\":_vm.error.globalOptions.mapperPath,\"errorMsg\":\"Required.\"},on:{\"onChange\":_vm.onChange}})],1)],1)],1)],1),_vm._v(\" \"),_c('m-layout-grid-cell',{attrs:{\"span\":6}},[_c('h3',[_vm._v(\"Launch Options\")]),_vm._v(\" \"),_c('m-layout-grid',[_c('m-layout-grid-inner',[_c('m-layout-grid-cell',{attrs:{\"span\":12,\"spanDesktop\":6}},[_c('text-field',{attrs:{\"value\":_vm.token,\"type\":\"password\",\"title\":\"Kloudless Account Token *\",\"name\":\"token\",\"error\":_vm.error.token,\"errorMsg\":\"Required.\"},on:{\"onChange\":_vm.onChange}})],1),_vm._v(\" \"),_c('m-layout-grid-cell',{attrs:{\"span\":12,\"spanDesktop\":6}},[_c('text-field',{attrs:{\"value\":_vm.launchOptions,\"textarea\":true,\"title\":\"Launch Options\",\"name\":\"launchOptions\",\"error\":_vm.error.launchOptions,\"errorMsg\":\"Invalid JSON format or missing 'appId' or 'kloudlessObjectName'.\"},on:{\"onChange\":_vm.onChange}})],1)],1)],1)],1),_vm._v(\" \"),_c('m-layout-grid-cell',{attrs:{\"span\":12,\"spanDesktop\":6}},[_c('m-button',{staticClass:\"j-launch-btn\",attrs:{\"outlined\":\"\",\"disabled\":_vm.disabled},on:{\"click\":_vm.onClick}},[_vm._v(\"\\n            Launch\\n          \")])],1)],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const ROLES = {\n  LOADER: 'LOADER',\n  VIEW: 'VIEW',\n};\n\n// Do not change values in this map, because strings are used as public api\n// e.g. devs will register events with scheduler.on('open', () => {...});\nexport const EVENTS = {\n  OPEN: 'open',\n  CLOSE: 'close',\n  DESTROYED: 'destroyed',\n  SUCCESS: 'success',\n  ERROR: 'error',\n  CANCEL: 'cancel',\n};\n\nexport const INTERNAL_EVENTS = {\n  VIEW_LAUNCH: 'VIEW_LAUNCH',\n  VIEW_LOAD: 'VIEW_LOAD',\n  RESPONSE: 'RESPONSE',\n};\n\nexport const EVENTS_LIST = Object.values(EVENTS);\n\n\n// selectors for testing\nexport const E2E_SELECTORS = {\n  // class\n  OBJ_DROPDOWN: 'j-obj-dropdown',\n  FIELD_DROPDOWN: 'j-field-dropdown',\n  DROPDOWN_ITEM: 'j-dropdown-item',\n  CLEAR_FIELD_BTN: 'j-field-clear',\n  RESET_FIELD_BTN: 'j-field-reset',\n  RESET_OBJ_BTN: 'j-obj-reset',\n  OK_BTN: 'j-ok-btn',\n  CLOSE_BTN: 'j-close-btn',\n  SAVE_BTN: 'j-save-btn',\n  APP: 'j-app',\n\n  // attributes\n  DATA_FIELD: 'data-field',\n  DATA_DROPDOWN_ITEM: 'data-dropdown-item',\n\n  // iframe name\n  IFRAME_NAME: 'j-kloudless-data-mapper-iframe',\n};\n\nexport default {\n  EVENTS,\n  EVENTS_LIST,\n  INTERNAL_EVENTS,\n  ROLES,\n  E2E_SELECTORS,\n};\n","import './init-mui-components';\nimport { action } from '@storybook/addon-actions';\nimport Editor from './components/Editor';\nimport { EVENTS_LIST } from '../../constants';\n\n/**\n * Get problems when using storybook-messenger and import loader via\n * <script> tag.\n * The reason is that the context of event-messenger between loader and\n * storybook-messenger is different.\n */\n\nconst DEFAULT_GLOBAL_OPTIONS = {\n  baseUrl: BASE_URL,\n  mapperPath: MAPPER_PATH,\n};\n\nconst DEFAULT_LAUNCH_OPTIONS = {\n  appId: KLOUDLESS_APP_ID,\n  token: KLOUDLESS_ACCOUNT_TOKEN,\n  mode: 'modal',\n  element: '.dm',\n  title: 'Data Mapper!!',\n  kloudlessObjectName: 'contact',\n  kloudlessObjectFriendlyName: 'My Contact',\n  kloudlessObjectFields: [\n    { name: 'id', friendlyName: 'ID', description: 'Contact ID' },\n    { name: 'name' },\n    { name: 'phone', friendlyName: 'Phone' },\n  ],\n  serviceObjectName: '',\n};\n\nexport default function createStory(DataMapper) {\n  return {\n    components: { Editor },\n    data() {\n      // Separate token from launchOptions so we can mask token.\n      const { token = '', ...rest } = DEFAULT_LAUNCH_OPTIONS;\n      return {\n        globalOptions: { ...DEFAULT_GLOBAL_OPTIONS },\n        launchOptions: JSON.stringify(rest, null, 2),\n        token,\n      };\n    },\n    computed: {\n      jsonLaunchOptions() {\n        try {\n          return JSON.parse(this.launchOptions);\n        } catch (ex) {\n          return null;\n        }\n      },\n      error() {\n        const result = {\n          launchOptions: false,\n          token: false,\n          globalOptions: { baseUrl: false, mapperPath: false },\n        };\n        const {\n          globalOptions: { baseUrl, mapperPath }, token,\n          jsonLaunchOptions,\n        } = this;\n        if (!baseUrl) {\n          result.globalOptions.baseUrl = true;\n        }\n        if (!mapperPath) {\n          result.globalOptions.mapperPath = true;\n        }\n        if (!token) {\n          result.token = true;\n        }\n        if (jsonLaunchOptions === null) {\n          result.launchOptions = true;\n        } else {\n          const { appId, kloudlessObjectName } = jsonLaunchOptions;\n          if (!appId || !kloudlessObjectName) {\n            result.launchOptions = true;\n          }\n        }\n        return result;\n      },\n      valid() {\n        const {\n          launchOptions,\n          token,\n          globalOptions: { baseUrl, mapperPath },\n        } = this.error;\n        return !token && !launchOptions && !baseUrl && !mapperPath;\n      },\n    },\n    beforeDestroy() {\n      this.destroyMapper();\n    },\n    methods: {\n      onChange(name, value) {\n        if (Object.keys(this.globalOptions).includes(name)) {\n          this.globalOptions[name] = value;\n        } else {\n          this[name] = value;\n        }\n      },\n      destroyMapper() {\n        if (this.mapper) {\n          this.mapper.destroy();\n        }\n      },\n      bindEventHandlers() {\n        EVENTS_LIST.forEach((event) => {\n          const actionEventHandler = action(event);\n          this.mapper.on(event, (...args) => {\n            actionEventHandler(...args);\n            if (window.puppeteerEventHandler) {\n              window.puppeteerEventHandler(event, ...args);\n            }\n          });\n        });\n      },\n      onLaunch() {\n        const {\n          valid, jsonLaunchOptions, token, globalOptions,\n        } = this;\n        if (valid) {\n          this.destroyMapper();\n          DataMapper.setOptions(globalOptions);\n          this.mapper = new DataMapper();\n          this.bindEventHandlers();\n          this.mapper.launch({ ...jsonLaunchOptions, token });\n          this.launchOptions = JSON.stringify(jsonLaunchOptions, null, 2);\n        }\n      },\n    },\n    template: `\n      <div>\n        <editor\n          @onChange=\"onChange\"\n          @onLaunch=\"onLaunch\"\n          :error=\"error\"\n          :disabled=\"!valid\"\n          :token=\"token\"\n          :launchOptions=\"launchOptions\"\n          :globalOptions=\"globalOptions\">\n        </editor>\n        <div class=\"dm\"></div>\n      </div>`,\n  };\n}\n","// The stories here require to use the storybook config in .storybook/cdn/\nimport createStory from '../core/createStory';\n\nexport default {\n  title: 'Data Mapper',\n};\n\nexport const basic = () => createStory(window.Kloudless.mapper);\n"],"sourceRoot":""}